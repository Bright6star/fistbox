<!DOCTYPE html>
<html>
<head>
    <title></title>
    <#assign ctx=request.contextPath>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap-responsive.css" />
    <link rel="stylesheet" type="text/css" href="${ctx}/css/style.css" />
    <script type="text/javascript" src="${ctx}/js/jquery.js"></script>
 	<link rel="stylesheet" type="text/css" href="${ctx}/assets/css/userList.css" />
	
	<script src="${ctx}/js/artDialog-6.0.2/lib/jquery-1.10.2.js"></script>
<link rel="stylesheet" href="${ctx}/js/artDialog-6.0.2/css/ui-dialog.css">
<script src="${ctx}/js/artDialog-6.0.2/dist/dialog-min.js"></script>
    </script>

   
</head>
<script>
    $(function () {
        
		$('#addnew').click(function(){
				window.location.href="${ctx}/admin/goods/toaddGoods";
		 });
		

    });

	function del(id)
	{
		var d = dialog({
			title: '温馨提示',
		    content: '<font size=6 color=red>您确定要删除对应的数据吗?</font>',
		    okValue:'确定',
		    ok:function(){
		    	this.title("请稍等...");
		    	window.location="${ctx}/admin/goods/delete?id="+id;
		    	return false;
		    },
		    cancelValue:'取消',
		    cancel:function(){}
		});
		d.showModal();
	}
</script>
<body>
<form class="form-inline definewidth m20" action="${ctx}/admin/goods/goodsList" method="get">  
    商品名称：
    <input type="text" name="title" id="title"class="abc input-default" placeholder="" value="">&nbsp;&nbsp;  
		<select id="goodsTypeSelect" name="goodstype.code">
            <option value="">请选择商品类型</option>
            <#if goodstypeList??>
            <#list goodstypeList as goodstype>
            	<option value="${goodstype.code}">${goodstype.name}</option>
            </#list>
            </#if>
		</select>
    <button type="submit" class="btn btn-primary">查询</button>&nbsp;&nbsp; 
    <button type="button" class="btn btn-success" id="addnew">添加</button>
</form>
<table class="table table-bordered table-hover definewidth m10" >
    <thead>
    <tr>
        <th>商品编号</th>
        <th>商品标题</th>
        <th>商品品牌</th>
        <th>原商品价格</th>
        <th>优惠价格</th>
        <th>上架日期</th>
        <th>库存</th>
        <th>商品封面</th>
        <th>商品描述</th>
        <th>商品类型</th>
        <th>创建时间</th>
        <th colspan="2" style="text-align: center">操作</th>
    </tr>
    </thead>
    	<#if goodsList??>
    	<#list goodsList as goods>
	     <tr>
            <td>${goods.id}</td>
            <td>${goods.title}</td>
            <td>${goods.brandName}</td>           
            <td>${goods.price}</td>
            <td>${goods.favorablePrice}</td>
            <td>${goods.groundingDate?string("yyyy-mm-dd")}</td>
            <td>${goods.storage}</td>
   
            <td>${goods.image}</td>
            <td>${goods.description}</td>
            <td>${goods.goodstype.name}</td>

            
            <td>${goods.createDate?string("yyyy-mm-dd")}</td>
      	  	<td>
                 <a href="${ctx}/admin/goods/showUpdate?id=${goods.id}">修改</a>
            </td>
            <td>
                 <a href="javascript:;" onclick="del(${goods.id})">删除</a>
                  
            </td>
        </tr>
        </#list>
        </#if>
        </table>
        
     	<div style="margin: 5px 0; text-align: center; background-color:gray;">
     	<#if pageModel??>
     	<#if pageModel.recordCount??>
     	<font color="white">共${pageModel.recordCount}条,分${((pageModel.recordCount+pageModel.pageSize -1)/pageModel.pageSize)}页</font><br> 	
	    <#import "../common/pager.html" as page>
	    <@page.pager pageIndex=pageModel.pageIndex pageSize=pageModel.pageSize recordCount=pageModel.recordCount toURL="${ctx}/admin/goods/goodsList"/>
	 	</#if>
	 	</#if>
 	</div>  
</body>
</html>
